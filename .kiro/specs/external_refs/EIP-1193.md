# EIP-1193: Ethereum Provider JavaScript API

## Specification

The Provider API is specified using TypeScript. The authors encourage implementers to declare their own types and interfaces, using the ones in this section as a basis.

### API

**Request**
```typescript
interface RequestArguments {
  readonly method: string;
  readonly params?: readonly unknown[] | object;
}

Provider.request(args: RequestArguments): Promise<unknown>;
```

The Provider MUST identify the requested RPC method by the value of `RequestArguments.method`.
If the requested RPC method takes any parameters, the Provider MUST accept them as the value of `RequestArguments.params`.
RPC requests MUST be handled such that the returned Promise either resolves with a value per the requested RPC methodâ€™s specification, or rejects with an error.

### RPC Errors

```typescript
interface ProviderRpcError extends Error {
  code: number;
  data?: unknown;
}
```

- `message`: MUST be a human-readable string.
- `code`: MUST be an integer number.
- `data`: SHOULD contain any other useful information about the error.

### Events

The Provider MUST implement the following event handling methods:
- `on`
- `removeListener`

These methods MUST be implemented per the Node.js EventEmitter API.

**message**
```typescript
interface ProviderMessage {
  readonly type: string;
  readonly data: unknown;
}
```

**connect**
Emitted when the Provider becomes connected to a chain.
```typescript
interface ProviderConnectInfo {
  readonly chainId: string;
}
```

**disconnect**
Emitted when the Provider becomes disconnected from all chains.
```typescript
error: ProviderRpcError
```

**chainChanged**
Emitted when the connected chain changes.
Value: `chainId: string` (hexadecimal string)

**accountsChanged**
Emitted when the accounts available to the Provider change.
Value: `accounts: string[]` (array of address strings)
