# Vaughan Wallet - Clippy Configuration
# Strict linting for security-critical wallet code

# Cognitive complexity threshold
cognitive-complexity-threshold = 30

# Documentation
missing-docs-in-crate-items = true

# Avoid breaking changes
avoid-breaking-exported-api = true

# Disallowed methods (security-critical)
disallowed-methods = [
    # Disallow unwrap/expect in production code
    { path = "std::option::Option::unwrap", reason = "use proper error handling with ?" },
    { path = "std::result::Result::unwrap", reason = "use proper error handling with ?" },
    { path = "std::option::Option::expect", reason = "use proper error handling with ?" },
    { path = "std::result::Result::expect", reason = "use proper error handling with ?" },
    
    # Disallow panic in production code
    { path = "std::panic", reason = "panics should not occur in production" },
    
    # Disallow unsafe crypto operations
    { path = "std::ptr::write", reason = "use safe abstractions" },
    { path = "std::ptr::read", reason = "use safe abstractions" },
]

# Disallowed types
disallowed-types = [
    # Disallow ethers-rs (we use Alloy only)
    { path = "ethers::*", reason = "use alloy instead of ethers-rs" },
    { path = "ethers_core::*", reason = "use alloy instead of ethers-rs" },
    { path = "ethers_providers::*", reason = "use alloy instead of ethers-rs" },
    { path = "ethers_signers::*", reason = "use alloy instead of ethers-rs" },
]

# Type complexity threshold
type-complexity-threshold = 250

# Too many arguments threshold
too-many-arguments-threshold = 7

# Too many lines threshold
too-many-lines-threshold = 500
